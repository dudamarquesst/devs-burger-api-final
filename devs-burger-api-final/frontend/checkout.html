<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Dev's Burguer</title>
    <!-- COLOCAR LINK DO CSS AQUI MIGUEL <link rel="stylesheet" href=""> -->
</head>

<body>
    <!-- Cabeçalho -->
    <div th:replace="fragments/header :: cabecalho"></div>
    
    <main class="checkout">
        <h1>Finalizar Pedido</h1>
        
        <!--Formulário Endereço-->
        <form th:action="@{/confirmarPedido}" method="post">
            <div class="campo">
                <label for="cep">CEP</label>
                <input id="cep" name="cep" class="campo-cep" type="text" required>
            </div>
            
            <div class="campo">
                <label for="endereco">Endereço</label>
                <input id="endereco" name="endereco" type="text" required>
            </div>
            
            <div class="campo">
                <label for="numero">Número</label>
                <input id="numero" name="numero" type="text" required>
            </div>

            <div class="campo">
                <label for="bairro">Bairro</label>
                <input id="bairro" name="bairro" type="text" required>
            </div>

            <div class="campo">
                <label for="cidade">Cidade</label>
                <input id="cidade" name="cidade" type="text" required>
            </div>

            <div class="campo">
                <label for="estado">Estado</label>
                <input id="estado" name="estado" type="text" required>
            </div>

            <div class="campo">
                <label for="complemento">Complemento (Opcional)</label>
                <input id="complemento" name="complemento" type="text" />
            </div>

            <section class="pagamento">
                <h2>Pagamento</h2>
                <p>O pagamento é feito na entrega. Escolha a forma que deseja pagar</p>
    
                <div class="opcoes-pagamento">
                    <label for="credito" class="opcao-pagamento">
                        <input type="radio" id="credito" name="formaPagamento" value="CREDITO" required />
                        <span>Cartão de Crédito</span>
                    </label>
        
                    <label for="debito" class="opcao-pagamento">
                        <input type="radio" id="debito" name="formaPagamento" value="DEBITO" required />
                        <span>Cartão de Débito</span>
                    </label>

                    <label for="dinheiro" class="opcao-pagamento">
                        <input type="radio" id="dinheiro" name="formaPagamento" value="DINHEIRO" required />
                        <span>Dinheiro</span>
                    </label>
        
                    </div>
                </section>

                <div class="resumo">
                    <h2>Resumo do pedido</h2>
    
                    <div class="item-resumo" th:each="item : ${carrinho.itens}">
                        <img th:src="@{'/images/' + ${item.produto.imagem}}" alt="Imagem do produto"/>
                        <div class="detalhes-item">
                            <span th:text="${item.produto.nome}">Stake de Bacon</span>
                            <span class="preco" th:text="${#numbers.formatCurrency(item.precoUnitario)}">R$ 29,90</span>
            
                            <div class="acoes-item">
                                <input type="number" th:value="${item.quantidade}" min="1" disabled />
                                <button type="button" class="btn-remover">REMOVER</button>
                            </div>
                        </div>
                    </div>
    
                    <hr/>
    
                    <div class="totais">
                        <p><span>Total de itens:</span> <span th:text="${#numbers.formatCurrency(carrinho.subtotal)}">R$ 38,80</span></p>
                        <p><span>Entrega:</span> <span th:text="${#numbers.formatCurrency(carrinho.frete)}">R$ 3,50</span></p>
                        <p class="total-final"><span>Total:</span> <span th:text="${#numbers.formatCurrency(carrinho.total)}">R$ 42,30</span></p>
                    </div>
    
            </div>

            <div class="resumo">
                <p>Nenhum item adicionado.</p>
            </div>
            
            <button type="submit" class="btn-confirmar">Confirmar Pedido</button>
        </form>
    </main>
</body>
</html>